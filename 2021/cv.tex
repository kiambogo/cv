\documentclass{article}

\usepackage{array}
\usepackage{xcolor}
\usepackage{ragged2e}
\usepackage{geometry}
\usepackage{ifthen}
\usepackage[quiet]{fontspec}
\usepackage[hidelinks,unicode]{hyperref}
\usepackage{fontawesome}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{graphbox}
\usepackage[default,opentype]{sourcesanspro}

\graphicspath{ {imgs/} }
\newfontfamily\nameFont[Path=fonts/, LetterSpace=10]{ModerneSans}
\newfontfamily\sectionTitleFont[Path=fonts/, LetterSpace=10]{ModerneSans}
\newfontfamily\taglineFont[Path=fonts/]{ModerneSans}
\newcommand*{\bodyfont}{\sourcesanspro}
\newcommand*{\bodyfontlight}{\sourcesansprolight}

\def\myThemeColor{blue}
\newcommand{\themeColor}[1]{\def\myThemeColor{#1}}
\newcommand{\name}[1]{\def\myName{#1}}
\newcommand{\tagline}[1]{\def\myTagline{#1}}
\newcommand{\email}[1]{\def\myEmail{#1}}
\newcommand{\web}[1]{\def\myWeb{#1}}
\newcommand{\linkedin}[1]{\def\myLinkedin{#1}}
\newcommand{\github}[1]{\def\myGithub{#1}}

\renewcommand{\section}[2][L]{
  \ifthenelse{\equal{#1}{L}}{\RaggedLeft}{\RaggedRight}
  \sectionTitleStyle{#2}
  \vspace{-5pt}\\{\hrulefill}\vspace{10pt}\\
}

\newcommand{\headerNameStyle}[1]{{\color{darkgray}\fontsize{28pt}{1em}\MakeUppercase{\nameFont{#1}}}}
\newcommand{\taglineStyle}[1]{{\color{lightgray}\fontsize{8pt}{1em}\MakeUppercase{\taglineFont{#1}}}}
\newcommand{\sectionTitleStyle}[1]{{\color{\myThemeColor}\fontsize{10pt}{1em}\MakeUppercase{\sectionTitleFont{#1}}}}
\newcommand{\subsectionTitleStyle}[1]{\fontsize{8pt}{1em}\MakeUppercase{\sectionTitleFont{#1}}}
\newcommand{\subsubsectionTitleStyle}[1]{{\fontsize{8pt}{1em}\bodyfont\scshape\color{gray} #1}}
\newcommand{\locationStyle}[1]{{\color{\myThemeColor!75}\fontsize{8pt}{1em}\textit{#1}}}
\newcommand{\datesStyle}[1]{{\fontsize{8pt}{1em}\textit{#1}}}

% Color Definitions
\definecolor{cvOrange}{RGB}{242,74,7}
\definecolor{cvBlue}{RGB}{7,82,242}
\definecolor{cvRed}{RGB}{214, 4, 4}
\definecolor{cvGreen}{RGB}{88,171,5}
\colorlet{cvDarkOrange}{cvOrange!70!black}
\colorlet{cvDarkBlue}{cvBlue!70!black}
\colorlet{cvDarkRed}{cvRed!70!black}
\colorlet{cvDarkGreen}{cvGreen!70!black}

\themeColor{cvDarkOrange}
\name{Christopher Poenaru}
\tagline{Computer Engineer}
\email{kiambogo@gmail.com}
\web{chrispoenaru.com}
\linkedin{chrispoenaru}
\github{kiambogo}

\geometry{left=2.0cm, top=1.5cm, right=2.0cm, bottom=2.0cm, footskip=.5cm}
\thispagestyle{empty}

\newcommand{\mkHeader}{
    \begin{minipage}[t]{\linewidth}
      \RaggedLeft{
        \headerNameStyle{\myName}\\
        \taglineStyle{\myTagline}
      }
    \end{minipage}
    \vspace{1cm}
}

\newcommand{\mkBody}{
    {\mkLeft}
    {\mkSplit}
    {\mkRight}
}

\newcommand{\mkSection}[3][L]{
  \section[#1]{#2}{#3}\vspace{10pt}
}

\newcommand{\contactItem}[3]{
  \href{#1}{#2\hspace{2pt}
  \begin{tikzpicture}
    {\draw[fill=\myThemeColor!30] (0,0) circle [radius=0.25] node {#3};}
  \end{tikzpicture}
  \vspace{10pt}}\\
}

\newcommand{\educationItem}[5]{
  \subsectionTitleStyle{#1}\\
  \subsubsectionTitleStyle{#2}\\
  {#3}\\
  {#4}\\
  {#5}\\
}

\newcommand{\skillsItem}[1]{
  {#1}\vspace{10pt}\\
}

\newcommand{\experienceItem}[6]{
  \ifthenelse{\equal{#1}{}}{\vspace{-5pt}}{
    \ifthenelse{\equal{#2}{}}{}{
      \includegraphics[align=c,height=15pt]{#2}
    }
    \subsectionTitleStyle{#1} \hfill \locationStyle{#3}\\
  }
  \subsubsectionTitleStyle{#4} \hfill \datesStyle{#5}\\
  {#6}
}

\newcommand{\projectItem}[5]{
  \subsectionTitleStyle{#1} \hfill \locationStyle{#2}\\
  \subsubsectionTitleStyle{#3} \hfill \datesStyle{#4}\\
  {#5}
}

\newcommand{\mkLeft}[1][0.25]{
  \newcommand{\mkContact}{
    \mkSection[L]{Contact}{
      \RaggedLeft{
        \contactItem{mailto:\myEmail}{\myEmail}{\faEnvelope}
        \contactItem{https://\myWeb}{\myWeb}{\faHome}
        \contactItem{https://www.linkedin.com/in/\myLinkedin}{\myLinkedin}{\faLinkedin}
        \contactItem{https://github.com/\myGithub}{\myGithub}{\faGithub}
      }
    }
  }
  \newcommand{\mkSkills}{
    \mkSection[L]{Skills}{
      \skillsItem{Scala}
      \skillsItem{Go}
      \skillsItem{Java}
      \skillsItem{Haskell}
      \skillsItem{AWS}
      \skillsItem{Postgres}
      \skillsItem{Redis}
      \skillsItem{Cassandra}
      \skillsItem{MongoDB}
    }
  }
  \newcommand{\mkEducation}{
    \mkSection[L]{Education}{
      \educationItem{BASc.}{Comp. Engineering}{University of Waterloo}{Waterloo, Canada}{2011-2016}
    }
  }
  \begin{minipage}[t]{#1\linewidth}
    {\mkContact}
    {\mkSkills}
    {\mkEducation}
  \end{minipage}
}

\newcommand{\mkRight}[1][0.75]{
  \newcommand{\mkProjects}{
    \mkSection[R]{Projects}{
      \projectItem{Scrava}{Remote}{Personal Project \hspace{3pt} \href{https://github.com/kiambogo/scrava}{\faGithubSquare \hspace{0.5mm} kiambogo/scrava}}{Sept. 2014 - PRESENT}{
        \begin{itemize}
          \item {Community recognized open-source Scala client for the Strava API}
          \item {Actively maintained and updated to reflect live API}
        \end{itemize}
      }
    }\\
  }
  \newcommand{\mkExperience}{
    \mkSection[R]{Experience}{
      \experienceItem{MasonHub}{masonhub.png}{Vancouver, Canada (Remote)}{Software Engineer}{Jan. 2019 - Jan. 2021}{
        \begin{itemize}
          \item{Scaffolded machine-learning service to classify and mitigate spam posted throughout the site}
        \end{itemize}
      }
      \experienceItem{Hudson's Bay Company}{hbc.png}{Vancouver, Canada (Remote)}{Lead Software Engineer}{Aug. 2018 - Jan. 2019}{
        \begin{itemize}
          \item{Scaffolded machine-learning service to classify and mitigate spam posted throughout the site}
        \end{itemize}
      }
      \experienceItem{}{}{}{Software Engineer II}{Nov. 2017 - Aug. 2018}{
        \begin{itemize}
          \item{Optimized user characteristics processing with development of Scala service leveraging Spark}
        \end{itemize}
      }
      \experienceItem{}{}{}{Software Engineer}{July 2016 - Nov. 2017}{
        \begin{itemize}
          \item{Optimized user characteristics processing with development of Scala service leveraging Spark}
        \end{itemize}
      }
      \experienceItem{Strava}{strava.png}{San Francisco, USA}{Platform Engineer Intern}{Aug. 2015 - Dec. 2015}{
        \begin{itemize}
          \item{Optimized user characteristics processing with development of Scala service leveraging Spark}
          \item{Designed and deployed Spark cluster to production atop of Apache Mesos}
          \item{Scaffolded machine-learning service to classify and mitigate spam posted throughout the site}
        \end{itemize}
      }
    }
  }
  \begin{minipage}[t]{#1\linewidth}
    {\mkExperience}
    {\mkProjects}
  \end{minipage}
}

\newcommand{\mkSplit}{
    \hspace{5pt}
    \color{\myThemeColor!80!black}\vrule width 1pt
    \hspace{5pt}
}

\begin{document}
    {\mkHeader}\\
    {\mkBody}\\
\end{document}
